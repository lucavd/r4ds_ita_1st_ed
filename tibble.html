<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>10 Tibble | R for Data Science - edizione italiana</title>
<meta name="author" content="Hadley Wickham e Garrett Grolemund">
<meta name="description" content="10.1 Introduzione In questo libro lavoriamo con i “tibble” invece dei tradizionali data.frame di R. I tibble sono data frame, ma modificano alcuni vecchi comportamenti per renderci la vita un po’...">
<meta name="generator" content="bookdown 0.33.3 with bs4_book()">
<meta property="og:title" content="10 Tibble | R for Data Science - edizione italiana">
<meta property="og:type" content="book">
<meta property="og:url" content="http://it.r4ds.hadley.nz/tibble.html">
<meta property="og:image" content="http://it.r4ds.hadley.nz/cover.png">
<meta property="og:description" content="10.1 Introduzione In questo libro lavoriamo con i “tibble” invece dei tradizionali data.frame di R. I tibble sono data frame, ma modificano alcuni vecchi comportamenti per renderci la vita un po’...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="10 Tibble | R for Data Science - edizione italiana">
<meta name="twitter:site" content="@lucavd">
<meta name="twitter:description" content="10.1 Introduzione In questo libro lavoriamo con i “tibble” invece dei tradizionali data.frame di R. I tibble sono data frame, ma modificano alcuni vecchi comportamenti per renderci la vita un po’...">
<meta name="twitter:image" content="http://it.r4ds.hadley.nz/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2.9000/transition.js"></script><script src="libs/bs3compat-0.4.2.9000/tabs.js"></script><script src="libs/bs3compat-0.4.2.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115082821-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Data Science - edizione italiana</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Benvenuto</a></li>
<li><a class="" href="introduzione.html"><span class="header-section-number">1</span> Introduzione</a></li>
<li class="book-part">Esplora</li>
<li><a class="" href="explore-intro.html"><span class="header-section-number">2</span> Introduzione</a></li>
<li><a class="" href="visualizzazione.html"><span class="header-section-number">3</span> Visualizzazione</a></li>
<li><a class="" href="workflow-basi.html"><span class="header-section-number">4</span> Workflow: basi</a></li>
<li><a class="" href="transform.html"><span class="header-section-number">5</span> Trasformazione</a></li>
<li><a class="" href="workflow-script.html"><span class="header-section-number">6</span> Workflow: script</a></li>
<li><a class="" href="analisi-esplorativa.html"><span class="header-section-number">7</span> Analisi esplorativa</a></li>
<li><a class="" href="workflow-progetti.html"><span class="header-section-number">8</span> Workflow: progetti</a></li>
<li class="book-part">Wrangle</li>
<li><a class="" href="wrangle-intro.html"><span class="header-section-number">9</span> Introduzione</a></li>
<li><a class="active" href="tibble.html"><span class="header-section-number">10</span> Tibble</a></li>
<li><a class="" href="importazione-dei-dati.html"><span class="header-section-number">11</span> Importazione dei dati</a></li>
<li><a class="" href="tidy-data.html"><span class="header-section-number">12</span> Tidy data</a></li>
<li><a class="" href="dati-relazionali.html"><span class="header-section-number">13</span> Dati relazionali</a></li>
<li><a class="" href="stringhe.html"><span class="header-section-number">14</span> Stringhe</a></li>
<li><a class="" href="fattori.html"><span class="header-section-number">15</span> Fattori</a></li>
<li><a class="" href="date-e-tempi.html"><span class="header-section-number">16</span> Date e tempi</a></li>
<li class="book-part">Programmare</li>
<li><a class="" href="program-intro.html"><span class="header-section-number">17</span> Introduzione</a></li>
<li><a class="" href="pipe.html"><span class="header-section-number">18</span> Pipe</a></li>
<li><a class="" href="funzioni.html"><span class="header-section-number">19</span> Funzioni</a></li>
<li><a class="" href="vettori.html"><span class="header-section-number">20</span> Vettori</a></li>
<li><a class="" href="iterazioni.html"><span class="header-section-number">21</span> Iterazioni</a></li>
<li class="book-part">Model</li>
<li><a class="" href="model-intro.html"><span class="header-section-number">22</span> Introduzione</a></li>
<li><a class="" href="modelli-base.html"><span class="header-section-number">23</span> Modelli base</a></li>
<li><a class="" href="costruire-modelli.html"><span class="header-section-number">24</span> Costruire modelli</a></li>
<li><a class="" href="molti-modelli.html"><span class="header-section-number">25</span> Molti modelli</a></li>
<li class="book-part">Comunicare</li>
<li><a class="" href="communicate-intro.html"><span class="header-section-number">26</span> Introduzione</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">27</span> R Markdown</a></li>
<li><a class="" href="grafici-per-la-comunicazione.html"><span class="header-section-number">28</span> Grafici per la comunicazione</a></li>
<li><a class="" href="formati-di-r-markdown.html"><span class="header-section-number">29</span> Formati di R Markdown</a></li>
<li><a class="" href="r-markdown-workflow.html"><span class="header-section-number">30</span> R Markdown workflow</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/lucavd/r4ds_ita_1st_ed">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="tibble" class="section level1" number="10">
<h1>
<span class="header-section-number">10</span> Tibble<a class="anchor" aria-label="anchor" href="#tibble"><i class="fas fa-link"></i></a>
</h1>
<div id="introduzione-4" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Introduzione<a class="anchor" aria-label="anchor" href="#introduzione-4"><i class="fas fa-link"></i></a>
</h2>
<p>In questo libro lavoriamo con i “tibble” invece dei tradizionali <code>data.frame</code> di R. I tibble <em>sono</em> data frame, ma modificano alcuni vecchi comportamenti per renderci la vita un po’ più facile. R è un vecchio linguaggio, e alcune cose che erano utili 10 o 20 anni fa ora intralciano. È difficile cambiare la base di R senza rompere il codice esistente, così la maggior parte dell’innovazione avviene nei pacchetti. Qui descriveremo il pacchetto <strong>tibble</strong>, che fornisce frame di dati opinionati che rendono il lavoro nel tidyverse un po’ più facile. Nella maggior parte dei punti, userò il termine tibble e data frame in modo intercambiabile; quando voglio attirare l’attenzione sui data frame integrati in R, li chiamerò <code>data.frame</code>.</p>
<p>Se questo capitolo vi lascia la voglia di imparare di più sulle tibbie, potreste godervi la <code><a href="https://tibble.tidyverse.org/articles/tibble.html">vignette("tibble")</a></code>.</p>
<div id="prerequisiti-4" class="section level3" number="10.1.1">
<h3>
<span class="header-section-number">10.1.1</span> Prerequisiti<a class="anchor" aria-label="anchor" href="#prerequisiti-4"><i class="fas fa-link"></i></a>
</h3>
<p>In questo capitolo esploreremo il pacchetto <strong>tibble</strong>, parte del core tidyverse.</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="creare-una-tibble" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> Creare una tibble<a class="anchor" aria-label="anchor" href="#creare-una-tibble"><i class="fas fa-link"></i></a>
</h2>
<p>Quasi tutte le funzioni che userete in questo libro producono tibble, poiché le tibble sono una delle caratteristiche unificanti del tidyverse. La maggior parte degli altri pacchetti di R usa normali data frame, quindi potreste voler forzare un data frame in una tibble. Potete farlo con <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble()</a></code>:</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 150 × 5</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span><span class="co">#&gt;          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span></span>
<span><span class="co">#&gt; 1          5.1         3.5          1.4         0.2 setosa </span></span>
<span><span class="co">#&gt; 2          4.9         3            1.4         0.2 setosa </span></span>
<span><span class="co">#&gt; 3          4.7         3.2          1.3         0.2 setosa </span></span>
<span><span class="co">#&gt; 4          4.6         3.1          1.5         0.2 setosa </span></span>
<span><span class="co">#&gt; 5          5           3.6          1.4         0.2 setosa </span></span>
<span><span class="co">#&gt; 6          5.4         3.9          1.7         0.4 setosa </span></span>
<span><span class="co">#&gt; # … with 144 more rows</span></span></code></pre></div>
<p>Potete creare un nuovo tibble da vettori individuali con <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code>. La funzione <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> ricicla automaticamente gli input di lunghezza 1, e vi permette di fare riferimento alle variabili che avete appena creato, come mostrato qui sotto.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, </span>
<span>  y <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  z <span class="op">=</span> <span class="va">x</span> <span class="op">^</span> <span class="fl">2</span> <span class="op">+</span> <span class="va">y</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span><span class="co">#&gt;       x     y     z</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     1     1     2</span></span>
<span><span class="co">#&gt; 2     2     1     5</span></span>
<span><span class="co">#&gt; 3     3     1    10</span></span>
<span><span class="co">#&gt; 4     4     1    17</span></span>
<span><span class="co">#&gt; 5     5     1    26</span></span></code></pre></div>
<p>Se avete già familiarità con <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, notate che <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> fa molto meno: non cambia mai il tipo di input (ad esempio non converte mai le stringhe in fattori!), non cambia mai i nomi delle variabili, e non crea mai nomi di righe.</p>
<p>È possibile che un tibble abbia nomi di colonne che non sono nomi di variabili R validi, anche detti nomi <strong>non-sintattici</strong>. Per esempio, potrebbero non iniziare con una lettera, o potrebbero contenere caratteri insoliti come uno spazio. Per fare riferimento a queste variabili, avete bisogno di circondarle con i backtick, <code>`</code>:</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  `:)` <span class="op">=</span> <span class="st">"smile"</span>, </span>
<span>  ` ` <span class="op">=</span> <span class="st">"space"</span>,</span>
<span>  `2000` <span class="op">=</span> <span class="st">"number"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">tb</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   `:)`  ` `   `2000`</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 smile space number</span></span></code></pre></div>
<p>Avrete anche bisogno dei backtick quando lavorerete con queste variabili in altri pacchetti, come ggplot2, dplyr e tidyr.</p>
<p>Un altro modo per creare un tibble è con <code><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a></code>, abbreviazione di <strong>tr</strong>ansposed tibble. <code><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a></code> è personalizzato per l’inserimento dei dati nel codice: le intestazioni delle colonne sono definite da formule (cioè iniziano con <code>~</code>), e le voci sono separate da virgole. Questo rende possibile la disposizione di piccole quantità di dati in forma facilmente leggibile.</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">x</span>, <span class="op">~</span><span class="va">y</span>, <span class="op">~</span><span class="va">z</span>,</span>
<span>  <span class="co">#--|--|----</span></span>
<span>  <span class="st">"a"</span>, <span class="fl">2</span>, <span class="fl">3.6</span>,</span>
<span>  <span class="st">"b"</span>, <span class="fl">1</span>, <span class="fl">8.5</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span><span class="co">#&gt;   x         y     z</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 a         2   3.6</span></span>
<span><span class="co">#&gt; 2 b         1   8.5</span></span></code></pre></div>
<p>Spesso aggiungo un commento (la linea che inizia con <code>#</code>), per rendere davvero chiaro dove si trova l’intestazione.</p>
</div>
<div id="tibble-vs.-data.frame" class="section level2" number="10.3">
<h2>
<span class="header-section-number">10.3</span> Tibble vs. data.frame<a class="anchor" aria-label="anchor" href="#tibble-vs.-data.frame"><i class="fas fa-link"></i></a>
</h2>
<p>Ci sono due differenze principali nell’uso di un tibble rispetto a un classico <code>data.frame</code>: stampa e sottoinsieme.</p>
<div id="stampa" class="section level3" number="10.3.1">
<h3>
<span class="header-section-number">10.3.1</span> Stampa<a class="anchor" aria-label="anchor" href="#stampa"><i class="fas fa-link"></i></a>
</h3>
<p>Le tibble hanno un metodo di stampa raffinato che mostra solo le prime 10 righe e tutte le colonne che si adattano allo schermo. Questo rende molto più facile lavorare con grandi quantità di dati. Oltre al suo nome, ogni colonna riporta il suo tipo, una bella caratteristica presa in prestito da <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>:</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/now.html">now</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span> <span class="op">*</span> <span class="fl">86400</span>,</span>
<span>  b <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/now.html">today</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span> <span class="op">*</span> <span class="fl">30</span>,</span>
<span>  c <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1e3</span>,</span>
<span>  d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span>,</span>
<span>  e <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">letters</span>, <span class="fl">1e3</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1,000 × 5</span></span>
<span><span class="co">#&gt;   a                   b              c     d e    </span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 2023-02-18 01:14:29 2023-02-24     1 0.368 n    </span></span>
<span><span class="co">#&gt; 2 2023-02-18 19:19:38 2023-03-01     2 0.612 l    </span></span>
<span><span class="co">#&gt; 3 2023-02-18 13:43:18 2023-03-11     3 0.415 p    </span></span>
<span><span class="co">#&gt; 4 2023-02-18 03:04:35 2023-03-10     4 0.212 m    </span></span>
<span><span class="co">#&gt; 5 2023-02-17 23:28:51 2023-03-07     5 0.733 i    </span></span>
<span><span class="co">#&gt; 6 2023-02-18 10:29:48 2023-03-03     6 0.460 n    </span></span>
<span><span class="co">#&gt; # … with 994 more rows</span></span></code></pre></div>
<p>Le tibble sono progettate in modo da non sovraccaricare accidentalmente la vostra console quando stampate grandi frame di dati. Ma a volte avete bisogno di più output rispetto alla visualizzazione di default. Ci sono alcune opzioni che possono aiutare.</p>
<p>Per prima cosa, potete esplicitamente <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> il data frame e controllare il numero di righe (<code>n</code>) e la <code>larghezza</code> della visualizzazione. La <code>larghezza = Inf</code> visualizzerà tutte le colonne:</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">nycflights13</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/nycflights13/man/flights.html">flights</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span></code></pre></div>
<p>Potete anche controllare il comportamento di stampa predefinito impostando le opzioni:</p>
<ul>
<li><p><code>options(tibble.print_max = n, tibble.print_min = m)</code>: se più di <code>n</code>
righe, stampa solo righe <code>m</code>. Usa <code>options(tibble.print_min = Inf)</code> per mostrare sempre
mostrare sempre tutte le righe.</p></li>
<li><p>Usa <code>options(tibble.width = Inf)</code> per stampare sempre tutte le colonne, indipendentemente
della larghezza dello schermo.</p></li>
</ul>
<p>Puoi vedere una lista completa di opzioni guardando l’aiuto del pacchetto con <code><a href="https://tibble.tidyverse.org/reference/tibble-package.html">package?tibble</a></code>.</p>
<p>Un’ultima opzione è quella di usare il visualizzatore di dati integrato in RStudio per ottenere una vista a scorrimento dell’intero set di dati. Questo è spesso utile alla fine di una lunga catena di manipolazioni.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">nycflights13</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/nycflights13/man/flights.html">flights</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="subsetting" class="section level3" number="10.3.2">
<h3>
<span class="header-section-number">10.3.2</span> Subsetting<a class="anchor" aria-label="anchor" href="#subsetting"><i class="fas fa-link"></i></a>
</h3>
<p>Finora tutti gli strumenti che avete imparato hanno lavorato con data frame completi. Se volete estrarre una singola variabile, avete bisogno di alcuni nuovi strumenti, <code>$</code> e <code>[[</code>. <code>[[</code> può estrarre per nome o per posizione; <code>$</code> estrae solo per nome, ma è un po’ meno digitabile.</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract by name</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 0.73296674 0.23436542 0.66035540 0.03285612 0.46049161</span></span>
<span><span class="va">df</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 0.73296674 0.23436542 0.66035540 0.03285612 0.46049161</span></span>
<span></span>
<span><span class="co"># Extract by position</span></span>
<span><span class="va">df</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 0.73296674 0.23436542 0.66035540 0.03285612 0.46049161</span></span></code></pre></div>
<p>Per usarli in una pipe, dovrete usare il segnaposto speciale <code>.</code>:</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">.</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 0.73296674 0.23436542 0.66035540 0.03285612 0.46049161</span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">.</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 0.73296674 0.23436542 0.66035540 0.03285612 0.46049161</span></span></code></pre></div>
<p>Rispetto a un <code>data.frame</code>, le tibble sono più rigide: non fanno mai corrispondenze parziali e generano un avviso se la colonna a cui si sta cercando di accedere non esiste.</p>
</div>
</div>
<div id="interagire-con-il-vecchio-codice" class="section level2" number="10.4">
<h2>
<span class="header-section-number">10.4</span> Interagire con il vecchio codice<a class="anchor" aria-label="anchor" href="#interagire-con-il-vecchio-codice"><i class="fas fa-link"></i></a>
</h2>
<p>Alcune vecchie funzioni non funzionano con le tibble. Se incontrate una di queste funzioni, usate <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> per trasformare un tibble in un <code>data.frame</code>:</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tb</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "data.frame"</span></span></code></pre></div>
<p>La ragione principale per cui alcune vecchie funzioni non funzionano con tibble è la funzione <code>[</code>. Non usiamo molto la funzione <code>[</code> in questo libro perché <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code> e <code><a href="https://dplyr.tidyverse.org/reference/select.html">dplyr::select()</a></code> vi permettono di risolvere gli stessi problemi con un codice più chiaro (ma ne imparerete qualcosa in <a href="vettori.html#vector-subsetting">sottoinsiemi di vettori</a>). Con i data frame di base di R, <code>[</code> a volte restituisce un data frame e a volte un vettore. Con le tibble, <code>[</code> restituisce sempre un’altra tibble.</p>
</div>
<div id="esercizi-20" class="section level2" number="10.5">
<h2>
<span class="header-section-number">10.5</span> Esercizi<a class="anchor" aria-label="anchor" href="#esercizi-20"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Come potete dire se un oggetto è una tibla? (Suggerimento: provate a stampare <code>mtcars</code>,
che è un normale data frame).</p></li>
<li>
<p>Confronta e contrasta le seguenti operazioni su un <code>data.frame</code> e
tibble equivalente. Cosa c’è di diverso? Perché i comportamenti predefiniti dei data frame
vi causano frustrazione?</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>abc <span class="op">=</span> <span class="fl">1</span>, xyz <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="va">df</span><span class="op">[</span>, <span class="st">"xyz"</span><span class="op">]</span></span>
<span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"xyz"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</li>
<li><p>Se avete il nome di una variabile memorizzata in un oggetto, ad esempio <code>var &lt;- "mpg"</code>,
come potete estrarre la variabile di riferimento da una tibla?</p></li>
<li>
<p>Esercitati a fare riferimento a nomi non sintattici nel seguente data frame:</p>
<ol style="list-style-type: decimal">
<li><p>Estrarre la variabile chiamata <code>1</code>.</p></li>
<li><p>Tracciare uno scatterplot di <code>1</code> contro <code>2</code>.</p></li>
<li><p>Creare una nuova colonna chiamata <code>3</code> che è <code>2</code> divisa per <code>1</code>.</p></li>
<li><p>Rinominare le colonne in <code>one</code>, <code>two</code> e <code>three</code>.</p></li>
</ol>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">annoying</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  `1` <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  `2` <span class="op">=</span> <span class="va">`1`</span> <span class="op">*</span> <span class="fl">2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">`1`</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
<li><p>Cosa fa <code><a href="https://tibble.tidyverse.org/reference/enframe.html">tibble::enframe()</a></code>? Quando potreste usarlo?</p></li>
<li><p>Quale opzione controlla quanti nomi di colonna aggiuntivi vengono stampati
a piè di pagina di una tibble?</p></li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="wrangle-intro.html"><span class="header-section-number">9</span> Introduzione</a></div>
<div class="next"><a href="importazione-dei-dati.html"><span class="header-section-number">11</span> Importazione dei dati</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#tibble"><span class="header-section-number">10</span> Tibble</a></li>
<li>
<a class="nav-link" href="#introduzione-4"><span class="header-section-number">10.1</span> Introduzione</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#prerequisiti-4"><span class="header-section-number">10.1.1</span> Prerequisiti</a></li></ul>
</li>
<li><a class="nav-link" href="#creare-una-tibble"><span class="header-section-number">10.2</span> Creare una tibble</a></li>
<li>
<a class="nav-link" href="#tibble-vs.-data.frame"><span class="header-section-number">10.3</span> Tibble vs. data.frame</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#stampa"><span class="header-section-number">10.3.1</span> Stampa</a></li>
<li><a class="nav-link" href="#subsetting"><span class="header-section-number">10.3.2</span> Subsetting</a></li>
</ul>
</li>
<li><a class="nav-link" href="#interagire-con-il-vecchio-codice"><span class="header-section-number">10.4</span> Interagire con il vecchio codice</a></li>
<li><a class="nav-link" href="#esercizi-20"><span class="header-section-number">10.5</span> Esercizi</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/lucavd/r4ds_ita_1st_ed/blob/master/tibble.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/lucavd/r4ds_ita_1st_ed/edit/master/tibble.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Data Science - edizione italiana</strong>" was written by Hadley Wickham e Garrett Grolemund. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
